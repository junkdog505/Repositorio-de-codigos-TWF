---
import Layout from '../../layouts/Layout.astro';
import Search from '../../components/Search';
import PageHeader from '../../components/ui/PageHeader.astro';
import DynamicSnippetList from '../../components/DynamicSnippetList';
import { getSnippets } from '../../lib/api';
import { Code2 } from 'lucide-react';

const snippets = await getSnippets({ per_page: 100 });
---

<Layout title="Archivo de Código" description="Explora nuestra colección completa de snippets técnicos.">
  
  <PageHeader 
    title="Archivo de Códigos" 
    subtitle="Repositorio completo de soluciones verificadas y arquitecturas optimizadas."
    label="SISTEMA / ARCHIVO"
    icon={Code2}
  >
    <Search client:load />
  </PageHeader>

  <div class="max-w-7xl mx-auto px-4 md:px-6 py-16 md:py-24">
    <DynamicSnippetList staticSnippets={snippets} client:load />
  </div>
</Layout>
